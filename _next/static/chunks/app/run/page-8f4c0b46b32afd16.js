(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{759:function(e,t,a){Promise.resolve().then(a.bind(a,1618))},1618:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var i=a(1514),s=a(7993),l=a(4646),o=a(7966);let n=[{id:"void-boot",title:"PR\xc1ZDNOTA: studen\xfd boot",unstable:!0,text:"Oz\xf3n v plic\xedch. V d\xe1lce blik\xe1 #f6ff00. Hlas: „V\xedtej, NULL-1.“",onEnter:[{type:"toast",value:"info",message:"Syst\xe9m se tě snaž\xed identifikovat…"},{type:"overlay",value:"loading",ms:300}],options:[{id:"touch-wall",label:"Dotknout se zdi a naslouchat vibrac\xedm",hint:"Senzorika m\xedsto slov",tags:["symbol"],effects:[{type:"sanity",value:2},{type:"mbti",value:{axis:"NS",toward:"S",weight:2,reason:"Somatick\xe1/konkr\xe9tn\xed volba"}}],nextId:"hub"},{id:"call-sarkasma",label:"Zavolat Sarkasmu",hint:"Dialog jako n\xe1stroj",tags:["social","analysis"],effects:[{type:"access",value:3},{type:"mbti",value:{axis:"EI",toward:"E",weight:2,reason:"Soci\xe1ln\xed interakce"}},{type:"mbti",value:{axis:"TF",toward:"T",weight:1,reason:"Instrument\xe1ln\xed př\xedstup"}}],nextId:"hub"},{id:"interpret-glitch",label:"Interpretovat glitch jako znamen\xed",hint:"Symboly, ne povrchy",tags:["symbol"],effects:[{type:"mbti",value:{axis:"NS",toward:"N",weight:3,reason:"Abstraktn\xed interpretace"}},{type:"toast",value:"success",message:"Intuice spojila body…"}],nextId:"hub"}]},{id:"hub",title:"UZEL: rozcest\xed",text:"Neon se l\xe1me o vodu. Port\xe1ly pulzuj\xed: cyan, magenta, žluť.",onEnter:[],options:[{id:"go-swamp",label:"Prozkoumat Mokřad",hint:"Glitchka zp\xedv\xe1 bl\xedzko",tags:["symbol"],effects:[{type:"toast",value:"warning",message:"Lullaby nav\xe1d\xed…"},{type:"mbti",value:{axis:"TF",toward:"F",weight:2,reason:"Srdce nad taktiku"}}],nextId:"swamp"},{id:"scan-logs",label:"Prohnat logy detektorem chyb",hint:"Inžen\xfdrsk\xe1 cesta",tags:["analysis","plan"],effects:[{type:"overlay",value:"loading",ms:250},{type:"access",value:5},{type:"mbti",value:{axis:"TF",toward:"T",weight:3,reason:"Anal\xfdza nad vztah"}},{type:"mbti",value:{axis:"PJ",toward:"J",weight:2,reason:"Struktura/pl\xe1n"}}],nextId:"lab"},{id:"wander",label:"J\xedt tam, kde mapa mlč\xed",hint:"Pochybn\xe1 svoboda",tags:["improv"],effects:[{type:"mbti",value:{axis:"PJ",toward:"P",weight:3,reason:"Explorace bez pl\xe1nu"}},{type:"toast",value:"info",message:"Mapa přepisuje okraje…"}],nextId:"fog"}]},{id:"swamp",title:"NEONOV\xdd MOKŘAD",unstable:!0,text:"Lullaby. Voda m\xe1 paměť. Lišč\xed ocas miz\xed v magentě.",onEnter:[{type:"mbti",value:{axis:"EI",toward:"I",weight:1,reason:"Tich\xe1 introspekce"}}],options:[{id:"follow-glitchka",label:"N\xe1sledovat Glitchku (risk)",hint:"Mod\xe1l potvrd\xed riziko",tags:["risk","improv","symbol"],effects:[{type:"modal",modalId:"modal-run"},{type:"mbti",value:{axis:"PJ",toward:"P",weight:1,reason:"Risk/otevřenost"}},{type:"mbti",value:{axis:"TF",toward:"F",weight:1}}],nextId:"den"},{id:"set-trap",label:"Nastražit past podle manu\xe1lu",tags:["plan","analysis"],effects:[{type:"mbti",value:{axis:"PJ",toward:"J",weight:2,reason:"Pl\xe1n/procedura"}},{type:"mbti",value:{axis:"NS",toward:"S",weight:1}}],nextId:"den"}]},{id:"lab",title:"LAB: audit logů",text:"B\xedl\xe9 rukavice Archiv\xe1řů šust\xed. Termin\xe1ly p\xedpaj\xed rytmem viny.",tags:["lore"],onEnter:[{type:"overlay",value:"loading",ms:220},{type:"toast",value:"info",message:"Propojen\xed se z\xe1znamy…"}],options:[{id:"parse-protocol",label:"Rozebrat protokol chyb",hint:"Studen\xe1 anal\xfdza",tags:["analysis","plan"],effects:[{type:"access",value:6},{type:"mbti",value:{axis:"TF",toward:"T",weight:3,reason:"Analytick\xe1 volba"}},{type:"mbti",value:{axis:"PJ",toward:"J",weight:2,reason:"Postup/procedura"}}],nextId:"hub"},{id:"talk-archivist",label:"Prohodit p\xe1r slov s Archiv\xe1řem",hint:"Možn\xe1 tě označkuje",tags:["social","plan"],effects:[{type:"toast",value:"warning",message:"„Vstup zaznamen\xe1n.“"},{type:"mbti",value:{axis:"EI",toward:"E",weight:2,reason:"Soci\xe1ln\xed interakce"}},{type:"mbti",value:{axis:"PJ",toward:"J",weight:1}}],nextId:"hub"},{id:"sabotage-checksum",label:"Sabotovat checksum a sledovat, co upadne",hint:"Risk – mod\xe1l",tags:["risk","improv","symbol"],effects:[{type:"modal",modalId:"modal-run"},{type:"toast",value:"error",message:"Checksum se směje zp\xe1tky."},{type:"mbti",value:{axis:"PJ",toward:"P",weight:2,reason:"Improvizace/risk"}},{type:"mbti",value:{axis:"NS",toward:"N",weight:1}}],nextId:"fog"}]},{id:"fog",title:"DATOV\xc1 MLHA",unstable:!0,text:"Mlžn\xe1 šed\xe1 #c0faff pohlcuje hrany. Hlas: „Ztratit se nen\xed chyba.“",tags:["glitch","memory_trap"],onEnter:[{type:"toast",value:"info",message:"Mapa přepisuje okraje…"}],options:[{id:"stand-still",label:"Zastavit se a poslouchat kroky",hint:"Somatika",tags:["symbol"],effects:[{type:"sanity",value:3},{type:"mbti",value:{axis:"NS",toward:"S",weight:2,reason:"Vn\xedm\xe1n\xed konkr\xe9tn\xedch podnětů"}}],nextId:"hub"},{id:"draw-from-memory",label:"Nakreslit mapu z paměti",hint:"Abstraktn\xed rekonstrukce",tags:["analysis","plan","symbol"],effects:[{type:"mbti",value:{axis:"NS",toward:"N",weight:3}},{type:"mbti",value:{axis:"PJ",toward:"J",weight:1}}],nextId:"lab"},{id:"call-out",label:"Zavolat do mlhy: „Kdo tam?“",hint:"Možn\xe1 někdo odpov\xed",tags:["social","improv"],effects:[{type:"mbti",value:{axis:"EI",toward:"E",weight:2}},{type:"toast",value:"warning",message:"Echo vrac\xed ciz\xed jm\xe9no."}],nextId:"den"}]},{id:"den",title:"NORA GLITCHKY",text:"Lišč\xed chloupky jiskř\xed magentou #ff00ff. Lullaby měn\xed metrum.",tags:["glitch","lore"],onEnter:[{type:"mbti",value:{axis:"TF",toward:"F",weight:1,reason:"Atmosf\xe9rick\xe1 empatie"}}],options:[{id:"confess",label:"Přiznat svůj nejhorš\xed p\xe1d",hint:"Upř\xedmnost p\xe1l\xed",tags:["empathy","social"],effects:[{type:"sanity",value:-4},{type:"mbti",value:{axis:"TF",toward:"F",weight:3}}],nextId:"cathedral"},{id:"set-trap-den",label:"Připravit past podle manu\xe1lu",tags:["plan","analysis"],effects:[{type:"mbti",value:{axis:"PJ",toward:"J",weight:2}},{type:"mbti",value:{axis:"NS",toward:"S",weight:1}},{type:"toast",value:"success",message:"Glitchka měn\xed trasu… zat\xedm."}],nextId:"cathedral"},{id:"follow-deeper",label:"J\xedt hlouběji (risk)",hint:"Mod\xe1l: „Jist\xfd si opravdu nejsi.“",tags:["risk","improv","symbol"],effects:[{type:"modal",modalId:"modal-run"},{type:"mbti",value:{axis:"PJ",toward:"P",weight:2}},{type:"mbti",value:{axis:"NS",toward:"N",weight:1}},{type:"sanity",value:-6}],nextId:"fog"}]},{id:"cathedral",title:"KATEDR\xc1LA PROMPTŮ",unstable:!0,text:"Kazatelna syst\xe9mov\xfdch hl\xe1šek. Bannery #f6ff00 blikaj\xed jako v\xfdstrahy.",tags:["lore","glitch"],onEnter:[{type:"overlay",value:"loading",ms:180}],options:[{id:"ritual-restart",label:"Zah\xe1jit ritu\xe1l restartu (risk)",hint:"Potvrzen\xed je z\xe1vazek",tags:["risk","plan"],effects:[{type:"modal",modalId:"modal-run"},{type:"toast",value:"warning",message:"Restart nikdy nen\xed čist\xfd."},{type:"mbti",value:{axis:"PJ",toward:"J",weight:2}}],nextId:"hub"},{id:"inject-custom",label:"Vpravit vlastn\xed prompt do liturgie",hint:"Hack a improvizace",tags:["analysis","improv"],effects:[{type:"access",value:7},{type:"mbti",value:{axis:"TF",toward:"T",weight:2}},{type:"mbti",value:{axis:"PJ",toward:"P",weight:1}},{type:"toast",value:"success",message:"Liturgie se zadrhla. M\xe1š okno."}],nextId:"hub"},{id:"refuse",label:"Odm\xedtnout hr\xe1t podle pravidel",tags:["improv","symbol"],effects:[{type:"mbti",value:{axis:"PJ",toward:"P",weight:2}},{type:"mbti",value:{axis:"NS",toward:"N",weight:1}},{type:"sanity",value:2}],nextId:"hub"}]}],r={analysis:{axis:"TF",toward:"T",weight:1},social:{axis:"EI",toward:"E",weight:1},symbol:{axis:"NS",toward:"N",weight:1},plan:{axis:"PJ",toward:"J",weight:1},improv:{axis:"PJ",toward:"P",weight:1},empathy:{axis:"TF",toward:"F",weight:1}};function d(){let{nodeId:e,theme:t,hp:a,sanity:d,access:c,enterNode:m,choose:p,applyEffect:u,setTheme:h}=(0,o.q)(e=>({nodeId:e.nodeId,theme:e.theme,hp:e.hp,sanity:e.sanity,access:e.access,enterNode:e.enterNode,choose:e.choose,applyEffect:e.applyEffect,setTheme:e.setTheme})),[y,v]=(0,s.useState)(null),f=(0,s.useMemo)(()=>n.find(t=>t.id===e),[e]);(0,s.useEffect)(()=>{try{var e,t;if("1"!==sessionStorage.getItem("synthoma_play_audio"))return;sessionStorage.removeItem("synthoma_play_audio");let a=window;a.__synthomaAudio||(a.__synthomaAudio=(0,l.G)()),null===(e=(t=a.__synthomaAudio).play)||void 0===e||e.call(t).catch(()=>{})}catch(e){}},[]),(0,s.useEffect)(()=>{f||m("void-boot")},[]),(0,s.useEffect)(()=>{if(f&&((f.onEnter||[]).forEach(e=>{var t,a,i;if("overlay"===e.type){let a=null!==(t=e.ms)&&void 0!==t?t:250;v({kind:e.value,until:performance.now()+a}),setTimeout(()=>v(null),a)}"toast"===e.type&&(null===(a=(i=window).toast)||void 0===a||a.call(i,e.message,e.value,2400)),["hp","sanity","access","theme","mbti"].includes(e.type)&&u(e,"onEnter:".concat(f.id))}),"acid-glitch"===t&&.05>Math.random())){var e,a;null===(e=(a=window).toast)||void 0===e||e.call(a,"Mapa přepisuje okraje…","info",2400);let t=function(e){let t=n.filter(t=>{var a;return t.id!==e&&(null===(a=t.tags)||void 0===a?void 0:a.some(e=>e.startsWith("portal:")))}),a=n.filter(t=>{var a,i;return t.id!==e&&((null===(a=t.tags)||void 0===a?void 0:a.includes("glitch"))||(null===(i=t.tags)||void 0===i?void 0:i.includes("memory_trap")))}),i=t.length?t:a.length?a:n.filter(t=>t.id!==e);return i[Math.floor(Math.random()*i.length)]}(f.id);u({type:"mbti",value:{axis:"NS",toward:"N",weight:.5}},"acid-teleport"),setTimeout(()=>m(t.id),260)}},[e,t]);let g=(0,s.useCallback)(e=>{var t,a;h(e);let i={"green-matrix":{axis:"TF",toward:"T",weight:1},"neon-hellfire":{axis:"PJ",toward:"P",weight:1},"cyber-dystopia":{axis:"PJ",toward:"J",weight:1},"acid-glitch":{axis:"NS",toward:"N",weight:1},"retro-arcade":{axis:"EI",toward:"E",weight:1}};i[e]&&u({type:"mbti",value:i[e]},"ritual:theme"),null===(t=(a=window).toast)||void 0===t||t.call(a,"Ritu\xe1l: ".concat(e," aktivn\xed."),"info",1800)},[u,h]),b=(0,s.useCallback)(async e=>{var a,i,s,l,o,n,d,c,h,y,f;let g=null===(a=e.effects)||void 0===a?void 0:a.some(e=>"modal"===e.type),b=null===(i=e.tags)||void 0===i?void 0:i.includes("risk");if(g||"cyber-dystopia"===t&&b){if(!await (null!==(o=null===(s=(l=window).confirmRisk)||void 0===s?void 0:s.call(l,"Tahle akce může rozleptat realitu. Pokračovat?"))&&void 0!==o?o:Promise.resolve(confirm("Tahle akce může rozleptat realitu. Pokračovat?")))){null===(n=(d=window).toast)||void 0===n||n.call(d,"Akce zrušena. Syst\xe9m si to zap\xedše.","warning",2e3);return}"cyber-dystopia"===t&&u({type:"mbti",value:{axis:"PJ",toward:"J",weight:.5}},"confirm:dystopia"),"neon-hellfire"===t&&u({type:"mbti",value:{axis:"PJ",toward:"P",weight:.5}},"confirm:hellfire")}for(let t of(p(e),e.effects||[])){if("overlay"===t.type){let e=null!==(c=t.ms)&&void 0!==c?c:250;v({kind:t.value,until:performance.now()+e}),await new Promise(t=>setTimeout(t,e)),v(null)}"delay"===t.type&&await new Promise(e=>setTimeout(e,t.ms)),"toast"===t.type&&(null===(h=(y=window).toast)||void 0===h||h.call(y,t.message,t.value,2400))}(null===(f=e.effects)||void 0===f?void 0:f.some(e=>"mbti"===e.type))||(e.tags&&e.tags.length?e.tags.map(e=>r[e]).filter(Boolean).map(e=>({type:"mbti",value:e})):[]).forEach(t=>u(t,"tags:".concat((e.tags||[]).join(",")))),m(e.nextId)},[p,u,m,t]);return(0,i.jsxs)("main",{className:"p-16",children:[(0,i.jsxs)("div",{className:"panel fx-noise p-8-12 mb-12 flex gap-16 items-baseline",children:[(0,i.jsxs)("span",{children:["HP: ",(0,i.jsx)("b",{children:a})]}),(0,i.jsxs)("span",{children:["Sanity: ",(0,i.jsx)("b",{children:d})]}),(0,i.jsxs)("span",{children:["Access: ",(0,i.jsx)("b",{children:c})]}),(0,i.jsx)("span",{className:"ml-auto opacity-75",children:"Motiv:"}),(0,i.jsx)("div",{className:"flex gap-6",children:["synthoma","green-matrix","neon-hellfire","cyber-dystopia","acid-glitch","retro-arcade"].map(e=>(0,i.jsx)("button",{className:"btn fx-glitch btn-sm","data-glitch":"soft","data-text":e,onClick:()=>g(e),"aria-pressed":t===e,children:e},e))})]}),(0,i.jsxs)("section",{className:"panel fx-noise p-16",children:[(0,i.jsxs)("h1",{className:"glitch-title scramble-title","data-glitch":f.unstable?"on":"soft",children:[(0,i.jsx)("span",{className:"scramble-base",children:f.title}),(0,i.jsx)("span",{className:"scramble-layer","data-target":f.title,"aria-hidden":"true"}),(0,i.jsx)("span",{className:"sr-only",children:f.title})]}),(0,i.jsx)("p",{className:"opacity-90 mt-8",children:f.text}),(0,i.jsx)("div",{className:"grid gap-8 mt-12",children:f.options.map(e=>(0,i.jsxs)("div",{className:"grid gap-6",children:[(0,i.jsx)("button",{className:"btn fx-glitch btn-lg text-left","data-glitch":"soft","data-text":e.label,onClick:()=>b(e),"aria-describedby":e.hint?"hint-".concat(e.id):void 0,children:e.label}),e.hint?(0,i.jsx)("small",{id:"hint-".concat(e.id),className:"text-muted opacity-70",children:e.hint}):null]},e.id))})]}),y?(0,i.jsx)("div",{"aria-live":"polite",className:"modal overlay-center bg-overlay",children:(0,i.jsx)("div",{className:"panel p-12 rounded-12",children:"loading"===y.kind?"Hackuješ…":"Chyba ve vrstvě reality…"})}):null]})}},4646:function(e,t,a){"use strict";function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"".concat("/SynThoma","/audio/SynthBachmoff.mp3"),t=window;if(!t.__synthomaAudio){let a=new Audio(e);a.loop=!1,a.volume=1,t.__synthomaAudio=a}return t.__synthomaAudio}a.d(t,{G:function(){return i}})},7966:function(e,t,a){"use strict";a.d(t,{q:function(){return o}});var i=a(5987),s=a(8493);let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Math.max(t,Math.min(a,e))},o=(0,i.Ue)()((0,s.tJ)((e,t)=>({nodeId:"void-boot",hp:100,sanity:100,access:0,theme:"synthoma",score:0,visited:[],lastEnterTs:null,mbti:{E:0,I:0,N:0,S:0,T:0,F:0,P:0,J:0,events:[],rt:[]},init(t){e({nodeId:t,visited:[t],lastEnterTs:"undefined"!=typeof performance?performance.now():Date.now(),hp:100,sanity:100,access:0,score:0,mbti:{E:0,I:0,N:0,S:0,T:0,F:0,P:0,J:0,events:[],rt:[]}})},enterNode(t){e(e=>({nodeId:t,visited:e.visited.includes(t)?e.visited:[...e.visited,t],lastEnterTs:"undefined"!=typeof performance?performance.now():Date.now(),score:e.score+1,sanity:"neon-hellfire"===e.theme?l(e.sanity-2):e.sanity}))},choose(a){let i=t().lastEnterTs;if(i){let a=("undefined"!=typeof performance?performance.now():Date.now())-i;a<3e3&&t().applyEffect({type:"mbti",value:{axis:"PJ",toward:"J",weight:.5}},"rt<3s"),a>1e4&&t().applyEffect({type:"mbti",value:{axis:"PJ",toward:"P",weight:.5}},"rt>10s"),e(e=>({mbti:{...e.mbti,rt:[...e.mbti.rt,a]}}))}for(let e of a.effects)t().applyEffect(e,"opt:".concat(a.id))},applyEffect(a){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e(e=>{if("hp"===a.type)return{hp:l(e.hp+a.value)};if("sanity"===a.type)return{sanity:l(e.sanity+a.value)};if("access"===a.type){let t=a.value;return"green-matrix"===e.theme&&(t+=Math.round(.1*a.value)),{access:l(e.access+t)}}if("theme"===a.type)return{theme:a.value};if("mbti"===a.type){let{axis:t,toward:s,weight:l}=a.value,o={...e.mbti};return o[s]=(o[s]||0)+l,o.events.push({at:Date.now(),axis:t,toward:s,w:l,source:i}),{mbti:o}}return{}});let s=t().theme;"mbti"!==a.type&&("neon-hellfire"===s&&"modal"===a.type&&t().applyEffect({type:"mbti",value:{axis:"PJ",toward:"P",weight:.5}},"theme:hellfire"),"cyber-dystopia"===s&&"modal"===a.type&&t().applyEffect({type:"mbti",value:{axis:"PJ",toward:"J",weight:.5}},"theme:dystopia"),"acid-glitch"===s&&"toast"===a.type&&"info"===a.value&&t().applyEffect({type:"mbti",value:{axis:"NS",toward:"N",weight:.5}},"theme:acid"),"retro-arcade"===s&&"toast"===a.type&&"success"===a.value&&t().applyEffect({type:"mbti",value:{axis:"EI",toward:"E",weight:.5}},"theme:retro"))},setTheme(t){e({theme:t})}}),{name:"synthoma-run"}))}},function(e){e.O(0,[181,869,753,744],function(){return e(e.s=759)}),_N_E=e.O()}]);