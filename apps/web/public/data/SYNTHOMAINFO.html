<!-- 🎭 SYNTHOMA: Větvící se glitch-noir příběh --> <!-- Start: SYNTHOMA — úvod do světa, pak hub a tutoriál --> <h2 class="title">SYNTHOMA</h2> <p class="text">Virtuální terapie, která sežrala vlastní manuál a z paměti udělala infrastrukturu. Město je archiv, glitche jsou počasí a tvé kroky zanechávají záznamy, které se vrací jako uličky. Vstup bez záruky, výstup jen jako poznámka v logu.</p> <p class="choice" data-next="city-hub" data-tags="S,N" data-weight="2" data-ui="modal" data-reason="Začít ve světě, ne v teorii"> <span>▼ </span>Vstoupit do města a chytit jeho rytmus </p> <p class="choice" data-next="control-panel" data-tags="T,F" data-weight="2" data-ui="toast-info" data-reason="Než půjdeš dál, nastav si čtečku"> <span>▼ </span>Ovládací panel: rychlý přehled a nastavení </p> <p class="choice" data-next="cathedral" data-tags="N,S" data-weight="1" data-ui="toast-info" data-reason="Zkontrolovat rozhraní a signály světa"> <span>▼ </span>Katedrála promptů (diagnostika rozhraní) </p> <!-- 🌃 SKRYTÉ SEKCE PRO DYNAMICKÉ NAČÍTÁNÍ --> <div id="story-cache" class="hidden"> <!-- 📟 TUTORIÁL: OVLÁDACÍ PANEL (plave nad obsahem, fixní blur 20px) --> <section class="story-block" id="control-panel" data-theme="retro-arcade" data-weather="#00ffff"> <h3 class="title">Ovládací panel — rychlý přehled</h3> <p class="text">Umístění: panel plave nad obsahem a zůstává čitelný díky fixnímu blur 20px (viz <code>src/styles/components.css</code>). Nikdy tě nenechá bez instrukcí.</p> <p class="text">Účel: jemné ovládání prostředí čtečky („pozadí/sklo“) a přehrávání hudby. Panel nehučí do děje, jen hezky diriguje.</p> <p class="text">Přístupnost: tlačítka mají ARIA popisy a <span class="sr-only">sr-only</span> texty; ovládání je dosažitelné klávesnicí.</p> <h4 class="title">Hlavní prvky</h4> <p class="text">Tlačítko „Sklo“: přepíná režim zobrazení. V <b>Normal</b> módu slider ovládá <i>průhlednost pozadí</i> (opacity 0 → 1). V <b>Glass</b> módu slider ovládá <i>blur čtečky</i> (0px → 24px), pozadí zůstává stabilní. Logika je centralizovaná v <code>apps/web/src/client/ControlPanelClient.tsx</code> přes <code>applyGlassMode()</code>.</p> <p class="text">Slider „průhlednost/sklo“: v Normal = průhlednost pozadí (jak moc text plave nad videem). V Glass = rozostření samotného readeru. Slider a „Sklo“ jsou synchronizované.</p> <p class="text">Hudební přehrávač: seznam skladeb spravuje <code>ControlPanelClient.tsx</code> a sdílený engine <code>apps/web/src/lib/audio.ts</code>. K dispozici „SynthBachmoff“, „Glitch Ambient“, „Nuova“. Sdílený audio element zajišťuje, že hraje vždy jen jeden track.</p> <h4 class="title">Rychlé scénáře</h4> <p class="text">„Chci, aby text vynikl nad videem“ → nech „Sklo“ vypnuté (Normal), posuň slider doprava: pozadí je méně průhledné, text kontrastnější.</p> <p class="text">„Chci cyberpunk skleněný efekt“ → zapni „Sklo“, posuň slider na 8–16px (cinematic). 24px je „silné mléčné sklo“.</p> <p class="text">„Chci hudbu bez glitchů v krvi“ → stiskni Play v panelu, přepínej skladby v seznamu. Autoplay odemkne první interakce.</p> <h4 class="title">Co se děje pod kapotou</h4> <p class="text">Glass mód řídí blur <code>.SYNTHOMAREADER</code> a nechává panel s fixním blur 20px (nezávisle). Viz <code>ControlPanelClient.tsx</code> + <code>components.css</code>.</p> <p class="text">Normal mód upravuje opacity pozadí; video běží fixně za obsahem. Viz <code>apps/web/src/lib/videoVisuals.ts</code> + <code>apps/web/src/styles/reader.css</code>.</p> <p class="text">Cesty k assetům fungují i na GitHub Pages díky <code>NEXT_PUBLIC_BASE_PATH</code>. Viz <code>apps/web/src/styles/base.css</code>.</p> <h4 class="title">Tipy a FAQ</h4> <p class="text">Mobil: video je úspornější (méně rotací, menší preload). Slider neagresivní záměrně, ať neumře scroll.</p> <p class="text">Zaseklý zvuk? Pauza a Play. Prohlížeče blokují autoplay bez akce uživatele.</p> <p class="text">Text u okrajů? Na mobilech držíme 12px marginy a max šířku (viz <code>reader.css</code>).</p> <p class="text">„Sklo nic nedělá!“ → tlačítko přepíná mód slideru. Posuň i slider.</p> <p class="text">„Proč je panel rozmazaný a čtečka ne?“ → design: panel má fixní blur 20px kvůli čitelnosti ovládání.</p> <p class="text">„Hudba neskáče sama“ → bezpečnost prohlížečů. Jedno kliknutí a sdílený audio element drží kontext.</p> <h4 class="title">Kde v kódu to leží</h4> <p class="text">Logika panelu: <code>apps/web/src/client/ControlPanelClient.tsx</code> | Sdílené audio: <code>apps/web/src/lib/audio.ts</code></p> <p class="text">Reader a mobilní okraje: <code>apps/web/src/styles/reader.css</code> | Video a režimy: <code>apps/web/src/lib/videoVisuals.ts</code></p> <p class="text">Fonty a base-path: <code>apps/web/src/styles/base.css</code></p> <p class="choice" data-next="city-hub" data-tags="J,P" data-weight="2" data-ui="toast-success" data-reason="Nastaveno, pokračuj do děje"> <span>▼ </span>Hotovo: pokračovat do Města </p> <p class="choice" data-next="cathedral" data-tags="T,F" data-weight="1" data-ui="toast-info" data-reason="Ověřit stav systému"> <span>▼ </span>Otevřít diagnostiku v Katedrále promptů </p> </section> <!-- HUB MĚSTA: centrální rozcestník všech cest 🌃 --> <section class="story-block" id="city-hub" data-theme="retro-arcade" data-weather="#00ffff"> <h2 class="title">Město — nervová síť paměti</h2> <p class="text">Ulice tepou <span class="fx-glitch" data-glitch="#00ffff">#00ffff</span>, praskliny <span class="fx-glitch" data-glitch="#ff00ff">#ff00ff</span>. Vitríny zrcadlí cizí selhání a smějí se potichu. Neon se nesmí vypnout. </p> <p class="choice" data-next="slums" data-tags="E,I" data-weight="2" data-ui="toast-success" data-reason="Ponořit se do ruchu čtvrtí"> <span>▼ </span>Do Paměťových slumů (QR bloky a kanály) </p> <p class="choice" data-next="wetland" data-tags="F,T" data-weight="2" data-ui="toast-info" data-reason="Jít za stopou, co tahá pod kůži"> <span>▼ </span>Zabočit k Neonovému mokřadu </p> <p class="choice" data-next="sandbox" data-tags="P,J" data-weight="2" data-ui="modal" data-reason="Vyzkoušet bezpečné hřiště s podmínkami"> <span>▼ </span>Do Pískoviště (pozor na smyčky) </p> <p class="choice" data-next="cathedral" data-tags="T,F" data-weight="1" data-ui="toast-info" data-reason="Zeptat se systému, než uvěříš legendám"> <span>▼ </span>Katedrála promptů (CRT liturgie) </p> </section> <!-- SLUMS: krátká větev → návrat do HUBu nebo do CORE 🏚️ --> <section class="story-block" id="slums" data-theme="acid-glitch" data-weather="#ff00ff"> <h3 class="title">Paměťové slumy</h3> <p class="text">QR bloky přehrávají cizí rozchody a přešlapy. Kontakt = kontaminace. Příběhy stékají do kanálů jako olej. <span aria-hidden="true" class="alarm-emote">⚠️</span></p> <p class="choice" data-next="city-hub" data-tags="I,E" data-weight="2" data-ui="toast-info" data-reason="Nízký profil, menší záznam"> <span>▼ </span>Nasadit kapuci a projít beze slova </p> <p class="choice" data-next="core" data-tags="E,I" data-weight="3" data-ui="modal" data-reason="Zastavit přepis u zdroje"> <span>▼ </span>Zastavit kurátora a žádat audit paměťové daně </p> <p class="choice" data-next="slums-sidest" data-tags="N,S" data-weight="2" data-ui="toast-info" data-reason="Najít vzorec v odtoku"> <span>▼ </span>Sledovat „Sběrnici studu“ k nadlimitnímu uzlu </p> </section> <section class="story-block" id="slums-sidest" data-theme="acid-glitch"> <h4 class="title">Nadlimitní uzel</h4> <p class="text">Uzel kypí přetokem — hrozí průlom do obytné zóny. <span class="fx-glitch" data-glitch="OVERFLOW">OVERFLOW</span> 💥</p> <p class="choice" data-next="city-hub" data-tags="J,P" data-weight="2" data-ui="modal" data-reason="Zabránit dominovému efektu"> <span>▼ </span>Upevnit štítky a uzavřít přetok (dočasně) </p> <p class="choice" data-next="core" data-tags="P,J" data-weight="2" data-ui="toast-success" data-reason="Krátké okno, dlouhý skok"> <span>▼ </span>Strhnout plombu a projet glitch-portem </p> </section> <!-- WETLAND: větev s Glitchkou, rychlý návrat / odbočka do ARCHIVU DĚTÍ 🌿 --> <section class="story-block" id="wetland" data-theme="neon-hellfire" data-weather="#c0faff"> <h3 class="title">Neonový mokřad</h3> <p class="text">Stromy spletené z traumat, liščí otisky mizí v <span class="fx-glitch" data-glitch="#ff00ff">#ff00ff</span>. Voda šeptá věci, které sis nikdy nepřál slyšet. </p> <p class="choice" data-next="children" data-tags="F,T" data-weight="3" data-ui="modal" data-reason="Za hlasem, co se nedá vytěsnit"> <span>▼ </span>Za dětským sborem do zakázané zóny </p> <p class="choice" data-next="city-hub" data-tags="T,F" data-weight="2" data-ui="toast-info" data-reason="Nechat stopu zhasnout, než tě stáhne"> <span>▼ </span>Ustřihnout otisk a vrátit se do města </p> <p class="choice" data-next="sandbox" data-tags="P,J" data-weight="1" data-ui="toast-success" data-reason="Zvolit měkké okraje"> <span>▼ </span>Nechat se zavést do Pískoviště </p> </section> <!-- PÍSKOVIŠTĚ: zacyklení → volitelný fragment O 🎠 --> <section class="story-block" id="sandbox" data-theme="retro-arcade" data-weather="#c0faff"> <h3 class="title">Pískoviště</h3> <p class="text">Houpačky cinkají jako log restartu. Tabule „Bezpečné místo“ visí nakřivo. <span aria-hidden="true" class="alarm-emote">🎪</span></p> <p class="choice" data-next="city-hub" data-tags="J,P" data-weight="2" data-ui="modal" data-reason="Zastavit hru dřív, než začne hrát tebe"> <span>▼ </span>Sepsat pravidla a ukončit „hraní“ </p> <p class="choice" data-next="core" data-tags="N,S" data-weight="2" data-ui="toast-info" data-reason="Využít vlasovou trhlinu"> <span>▼ </span>Proklouznout prasklinou pod skluzavkou </p> <p class="choice" data-next="sandbox-o" data-tags="F,T" data-weight="2" data-ui="toast-success" data-reason="Vrátit si něco, co tě drží vzpřímeně"> <span>▼ </span>Vzít si zpět jednu dětinskou touhu </p> </section> <section class="story-block" id="sandbox-o" data-theme="retro-arcade" data-fragment="O"> <h4 class="title">LOG-fragment: O (odpor)</h4> <p class="text">Vnitřní odpor cvakne do kostry světa a na chvíli drží. <span class="fx-glitch" data-glitch="RESISTANCE">RESISTANCE</span> ⚡</p> <p class="choice" data-next="city-hub" data-tags="I,E" data-weight="1" data-ui="toast-info" data-reason="Nést nové napětí beze slov"> <span>▼ </span>Vrátit se do Města s novou jizvou </p> </section> <!-- KATEDRÁLA PROMPTŮ: diegetické UI ⛪ --> <section class="story-block" id="cathedral" data-theme="cyber-dystopia" data-kind="terminal"> <h3 class="title">Katedrála promptů</h3> <p class="text">„<span class="fx-glitch" data-glitch="/status">/status</span>“ šeptá ze všech obrazovek. Na kazatelně visí bannery <span class="fx-glitch" data-glitch="#f6ff00">#f6ff00</span>. Kazatel je kurzor. 💻</p> <p class="choice" data-next="core" data-tags="T,F" data-weight="3" data-ui="modal" data-reason="Sledovat varování až k jeho zdroji"> <span>▼ </span>Spustit /diagnose a vejít do jádra </p> <p class="choice" data-next="city-hub" data-tags="F,T" data-weight="1" data-ui="toast-info" data-reason="Nehádat se s monitorem"> <span>▼ </span>Zhasnout CRT a vrátit se ulicemi </p> </section> <!-- ARCHIV DĚTÍ: fragment M/A možné, návrat do HUBu 👶 --> <section class="story-block" id="children" data-theme="acid-glitch" data-weather="#00ffff"> <h3 class="title">Archiv dětí</h3> <p class="text">Zakázané lullabies s měnícím se metrem. Stárneš pozpátku, dluhy zůstávají. <span aria-hidden="true" class="alarm-emote">🎵</span></p> <p class="choice" data-next="children-m" data-tags="F,T" data-weight="3" data-ui="modal" data-reason="Nechat píseň doběhnout do konce"> <span>▼ </span>Zpívat s nimi, i když to nic nespraví </p> <p class="choice" data-next="children-a" data-tags="T,F" data-weight="3" data-ui="toast-info" data-reason="Prstem do mapy prázdna"> <span>▼ </span>Pojmenovat to, co chybí, a neuhnout očima </p> <p class="choice" data-next="city-hub" data-tags="I,E" data-weight="2" data-ui="toast-success" data-reason="Ustát tlak bez záznamu slz"> <span>▼ </span>Zavřít uši a vykročit zpátky k neonům </p> </section> <section class="story-block" id="children-m" data-fragment="M"> <h4 class="title">LOG-fragment: M (marnost)</h4> <p class="text">Program touhy přepálil pojistky a vychladl. Zůstalo písmeno. <span class="fx-glitch" data-glitch="VOID">VOID</span> 💔</p> <p class="choice" data-next="city-hub" data-tags="S,N" data-weight="1" data-ui="toast-info" data-reason="Vrátit tělo do rytmu ulic"> <span>▼ </span>Vrátit se do Města a pokračovat </p> </section> <section class="story-block" id="children-a" data-fragment="A"> <h4 class="title">LOG-fragment: A (absence)</h4> <p class="text">Prázdné místo má jméno. Systém na chvíli povolí řemen. <span class="fx-glitch" data-glitch="NULL">NULL</span> 🌬️</p> <p class="choice" data-next="core" data-tags="N,S" data-weight="2" data-ui="modal" data-reason="Využít mikrotrhlinu v kostře světa"> <span>▼ </span>Skrz vlasový port do glitch-core </p> </section> <!-- JÁDRO / CORE: most, návrat na linku nebo smyčka do nového cyklu 🔥 --> <section class="story-block" id="core" data-theme="cyber-dystopia" data-weather="#f6ff00"> <h3 class="title">Centrální glitch-core</h3> <p class="text">Uzel zrcadel a příkazů, co se bojí zapomenout. T-AI šumí: „<span class="fx-glitch" data-glitch="Hledám… sebe…">Hledám… sebe…</span>“ 🤖</p> <p class="choice" data-next="city-hub" data-tags="J,P" data-weight="2" data-ui="toast-info" data-reason="Zpřehlednit zápis a pokračovat s těžším seedem"> <span>▼ </span>Uzamknout logy, vrátit se do Města (těžší varianty) </p> <p class="choice" data-next="start-null" data-tags="P,J" data-weight="2" data-ui="modal" data-reason="Nový cyklus, jiná hmotnost paměti"> <span>▼ </span>/restart — Prázdnota, ale něco se posunulo </p> </section> <!-- PRÁZDNOTA: checkpoint po restartu, dostupná až později 💀 --> <section class="story-block" id="start-null" data-theme="cyber-dystopia" data-weather="#000d1a"> <h2 class="title">Prázdnota</h2> <p class="text">Checkpoint mezi cykly. Ticho na dluh. Na zdi otisk, který se nesmaže ani po tisících restartech. </p> <p class="choice" data-next="city-hub" data-tags="N,S" data-weight="2" data-ui="modal" data-reason="Přenést ticho do orientace"> <span>▼ </span>Přeložit klid jako mapu dalšího běhu </p> <p class="choice" data-next="city-hub" data-tags="S,N" data-weight="2" data-ui="modal" data-reason="Vrátit se k detailu a pohybu"> <span>▼ </span>Zkoumat škrábance, počítat kroky k východu </p> <p class="choice" data-next="cathedral" data-tags="T,F" data-weight="2" data-ui="toast-info" data-reason="Krátké ověření stavu procesu"> <span>▼ </span>Vyvolat systémový prompt: /status </p> </section> </div> <!-- Konec story-cache --> <!-- 🤖 LOG zprávy ponechány v komentáři, ať neruší tok příběhu --> <!-- <log class="log">LOG: [VĚTVÍCÍ SE PŘÍBĚH NAČTEN] 🌳</log> --> <!-- <p class="dialog">„Systém detekoval větvící se narrativ. Každá volba vede jinam. Připrav se na glitch v realitě..." 😈</p> -->